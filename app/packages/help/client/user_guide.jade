template(name="userGuide")
  h1
    span.logo
    | User Guide
  .intro
    p FLIRT is a network analysis tool that enables detailed examination of flight networks.

  .app-modes
    .mode-selector.primary
      a.app-mode-link.featured(data-topic='1' class='{{#if activeFeatureMenu 1}} active {{/if}}')
        | Viewing Scheduled Direct Flights
      a.app-mode-link.featured(data-topic='2' class='{{#if activeFeatureMenu 2}} active {{/if}}')
        | Running a Passenger Simulation

    .app-mode(data-topic='1' class='{{#if activeFeatureContent 1}} active {{/if}}')
      p
        | In this mode, users can select at least one origination airport (node)
        | and a date range. Based on this information, FLIRT displays non-stop flight paths from a
        | selected airport to all possible destinations, ranking destinations by summed seat count.

        .app-mode--instructions
          ul
            li
              | Search for and select at least one origination airport.
              span.supplemental (To select multiple airports simply search for and select another airport)
            li Choose the time window of your analysis by selecting a start and end date
            li Click the "Show Direct Flights" button to visualize the results

          p To view detailed information about a particular flight, click on the path
          p
            | To view and download detailed tabular data about of the flights,
            | click on #[i(class='fa fa-table')] (right).
            | Data can be downloaded in various formats including: JSON, CSV, XML and XLSX

    .app-mode(data-topic='2' class='{{#if activeFeatureContent 2}} active {{/if}}')
      p.inline
        | In this mode, users can select at least one origination airport (node),
        | a date range, and a maximum number of passengers to consider.
        | FLIRT displays the results of a
        a(href='https://en.wikipedia.org/wiki/Monte_Carlo_method') Monte Carlo
        | simulation, outputting likely passenger destinations from a
        | specified origin based on previous analysis of common passenger
        | layover and transfer probabilities.
      a.show-more-info [read more info]
      .extended-info.hidden
        p The simulations mirror real life traveler behavior to give analyst an accurate picture of travel patterns. Flight legs are combined into a single path and visualized on the map. A heatmap layer and rank-ordered list of flights based on the total number of passengers to terminal destinations are generated during the simulation. Details of each simulation are are stored in FLIRT’s backend to facilitate easy repetition and sharing.

      .mode-mapp--instructions
        h3
          i.fa.fa-plane
          | Run a passenger simulation
        ul
          li Click "Passenger Simulation"
          li
            | Search for and select at least one origination airport
            span.supplemental (To select multiple airports simply search for and select another airport)
          li Choose the time window of the simulation by selecting a start and end date
          li Choose the total number of passengers to consider in the simulation
          li Click "Start Passenger Simulation" to watch the visualization render based on your selections.
          li
            | A progress bar under the "Start Passenger Simulation" button and within the Analysis
            | sidebar (accessed by clicking #[i(class='fa fa-table')]) show the percentage
            | of total passengers processed in the simulation.
            span.note
              | Simulations considering multiple airports and/or
              | higher numbers of passengers will take longer to complete.

      h3
        i.fa.fa-share-alt
        | Share a Simulation
      ul
        li Simulations are shared by clicking  #[i(class='fa fa-share-alt')]
        li Click "copy" to copy the link to your clipboard

      h3
        i.fa.fa-table
        | View simulation details and tabular data
      ul
        li Click #[i(class='fa fa-table')] (right)
        li Data can be downloaded in various formats including: JSON, CSV, XML and XLSX

    .mode-selector.secondary
      a.app-mode-link(data-topic='1' class='{{#if activeSecondaryMenu 1}} active {{/if}}')
        i.fa.fa-object-group
        | All Airports Mode
      a.app-mode-link(data-topic='2' class='{{#if activeSecondaryMenu 2}} active {{/if}}')
        i.fa.fa-sliders
        | Advanced Filtration
      a.app-mode-link(data-topic='3' class='{{#if activeSecondaryMenu 3}} active {{/if}}')
        i.fa.fa-map-o
        | Map Layers

    .app-mode(class="{{#if activeSecondaryContent 1}} active {{/if}}")
      p
        | In this mode all airports are display on the map.
        | Users can select a rectangular region on which to run an analysis.
        | All airports found in the region will be combined into a single origination or meta-node.
        | The paths originating from the meta-node include all flight paths from each airport in the selected region.

      .instructions
        h3 Creating a meta-node and showing its throughput
        ul
          li Click #[i(class='fa fa-object-group')]
          li Click and drag your cursor on the map to draw a rectangle over the area you would like to analyze
          li Once satisfied with your search area, click ‘apply’ to create the meta-node and show the throughput

        p To run a simulation using the meta-node, ensure you are in Simulation mode by clicking "Simulation". The meta-node will appear inside the search box. Then click the "Start Simulation" button.

        span.note Since simulations using meta-nodes may consider a large number of origination airports and/or passengers, processing times will likely be increased. Refer to progress bars for the percentage of passengers simulated.

    .app-mode(class="{{#if activeSecondaryContent 2}} active {{/if}}")
      p Reduce the number of flights and/or destination airports displayed on map and in table based on seat counts.
      ul
        li Click #[i(class='fa fa-sliders')]
        li Adjust Flight Seat Count
        li Move the slider handles to the left or right to filter the displayed flight paths based on seat count
        li Adjust Airport Seat Count
        li Move the slider handles to the left or right to filter the displayed destination airport nodes based on the total seat count of all incoming flights.

    .app-mode(class="{{#if activeSecondaryContent 3}} active {{/if}}")
      ul
        li Click #[i(class='fa fa-map-o')]
        li Select the type of map you wish to use:
          ul
            li #[b Transportation] - Shows roads, names and boundaries
            li #[b Satellite] - Shows detailed satellite imagery of terrain
            li #[b Hybrid] - combination of transportation and satellite
